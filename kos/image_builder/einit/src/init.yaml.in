entities:

- name: env.Env
@INIT_Env_ENTITY_CONNECTIONS@

- name: node.Node
  env:
    VFS_NETWORK_BACKEND: client:kl.TlsEntity
    VFS_FILESYSTEM_BACKEND: client:@ROOTFS_ENTITY@
    PATH: /opt/node/
  @NODE_ARGS@
  connections:
    - target: env.Env
      id: {var: ENV_SERVICE_NAME, include: env/env.h}
    - target: kl.VfsNet
      id: kl.VfsNet
    - target: @ROOTFS_ENTITY@
      id: @ROOTFS_ENTITY@
    - target: kl.TlsEntity
      id: kl.TlsEntity
  @INIT_Node_ENTITY_CONNECTIONS+@

- name: klog.KlogEntity
  path: @INIT_KlogEntity_PATH@
  connections:
    - target: klog_storage.KlogStorageEntity
      id: {var: KLOG_STORAGE_SERVER_CONNECTION_ID, include: klog_storage/client.h}

- name: klog_storage.KlogStorageEntity

@INIT_EXTERNAL_ENTITIES@
